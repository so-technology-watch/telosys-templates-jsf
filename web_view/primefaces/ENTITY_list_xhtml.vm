## #set( $tools = $loader.newInstance("Tools") )
#set( $uncapitalizedEntityName = $fn.uncapitalize($entity.name) )
#set( $pkItemVariables = "" )
#foreach( $attribute in $entity.keyAttributes )
#if( $foreach.count > 1 )
#set( $pkItemVariables = "${pkItemVariables}, " )
#end
#set( $pkItemVariables = "${pkItemVariables}item.$attribute.name" )
#end
##--------------------------------------------------------------------------------------------------------
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- File generated by $generator.name ( version $generator.version ) - Date $today.date("yyyy-MM-dd") ( Time $today.time ) -->

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/views/primefaces/template.xhtml">

	<ui:define name="body">
		<h:form>
			<div class="container">
				<h1>
					<h:outputText value="#{msg.list_${uncapitalizedEntityName}_title}" />
				</h1>
				<br />
				<p:messages globalOnly="true" showDetail="true" />
				<div class="taches table-responsive">
					<div align="right">
						<h:link outcome="${uncapitalizedEntityName}-form" styleClass="btn btn-success">
							<span class="glyphicon glyphicon-plus" />
							<h:outputText value=" #{msg${entity.name}.add}" />
						</h:link>
					</div>
					<br />
					<p:dataTable
						value="#{${entity.name}Controller.list${entity.name}}" var="item">
#foreach( $attribute in ${entity.attributes} )
#set( $formattedAttribute = ${attribute.formattedName(0)} )
						<p:column sortBy="#{item.${formattedAttribute}}">
							<!-- column header -->
							<f:facet name="header">
								<h:outputText value="#{msg${entity.name}.${formattedAttribute}}" />
							</f:facet>
							<!-- column content -->
#if( $attribute.type == 'Date' ) 
							<h:outputText value="#{item.${formattedAttribute}}">
								<f:convertDateTime pattern="#{msg.date_format_pattern}" />
							</h:outputText>
#else
		    				#{item.${formattedAttribute}}
#end
		    			</p:column>
#end
						<p:column>
							<f:facet name="header">
								<h:outputText value="#{msg.edit}" />
							</f:facet>
							<!-- Link for detail display -->
							<div align="center">
								<h:link outcome="${uncapitalizedEntityName}-form" styleClass="btn btn-default">
#foreach( $key in $entity.keyAttributes )
								<f:param name="${key.name}" value="#{item.${key.name}}" />
#end
									<span class="glyphicon glyphicon-edit" />
								</h:link>
							</div>
						</p:column>
						<p:column>
							<f:facet name="header">
								<h:outputText value="#{msg.delete}" />
							</f:facet>
							<!-- Link to display the delete button -->
							<div align="center">
								<p:commandLink title="#{msg${entity.name}.delete}" process="@this"
									update="@form" styleClass="btn btn-danger"
									action="#{${entity.name}Controller.delete${entity.name}ById(${pkItemVariables})}">
									<p:confirm header="#{msg.delete}"
										message="#{msg${entity.name}.delete_confirm}" icon="ui-icon-alert" />
									<span class="glyphicon glyphicon-trash btn-md" />
								</p:commandLink>
							</div>
						</p:column>
					</p:dataTable>
				</div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>
</html>